<div class="map-container">
  <div id="map" class="map"></div>

  <!-- Loading Indicator -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner"></div>
    <div class="loading-text">Loading maritime data...</div>
  </div>

  <div *ngIf="selectedVessel" class="details-panel vessel-details">
    <div class="details-header">
      <h3>{{ selectedVessel.name }}</h3>
      <button class="close-btn" (click)="clearSelection()" aria-label="Close">×</button>
    </div>
    <div class="details-content">
      <div *ngIf="selectedVessel.image_url" class="details-image">
        <img [src]="selectedVessel.image_url" alt="{{ selectedVessel.name }}" />
      </div>
      <div class="details-info">
        <p><strong>MMSI:</strong> {{ selectedVessel.mmsi }}</p>
        <p><strong>Type:</strong> {{ selectedVessel.vessel_type }}</p>
        <p>
          <strong>Dimensions:</strong> {{ selectedVessel.length }} ×
          {{ selectedVessel.width }} m
        </p>
        <p>
          <strong>Position:</strong>
          {{ selectedVessel.last_position.latitude.toFixed(5) }},
          {{ selectedVessel.last_position.longitude.toFixed(5) }}
        </p>
        <p>
          <strong>Speed:</strong> {{ selectedVessel.last_position.speed }} knots
        </p>
        <p>
          <strong>Heading:</strong>
          {{
            selectedVessel.last_position.heading === 511
              ? "N/A"
              : selectedVessel.last_position.heading + "°"
          }}
        </p>
        <p>
          <strong>Last Updated:</strong>
          {{ formatDate(selectedVessel.last_position.timestamp) }}
        </p>
      </div>
    </div>
  </div>

  <!-- Optional Map Controls section can be uncommented when needed -->
  <!-- 
  <div class="map-controls">
    <div class="layer-control">
      <h4>Map Layers</h4>
      <div class="layer-option">
        <input
          type="checkbox"
          id="vessels-layer"
          [checked]="showVessels"
          (change)="toggleLayer('vessels')"
        />
        <label for="vessels-layer">Vessels</label>
      </div>
    </div>
  </div>
  -->
</div>